<!DOCTYPE html>
<html>
    <head>
        <style>
            .gridContainer {
                /* Some sort of CSS Magic to keep child grid centered */
                margin: -1px auto 0 auto; 
                padding: 1px 0 0 0;

                max-width: 60vmin;
                max-height: 60vmin;
            }
            
            .grid {
                display: grid;
                grid-auto-columns: 1fr;
                grid-auto-rows: 1fr;
                aspect-ratio: 1/1;
                flex: auto;
            }

            .grid-item {
                background-image: url('test.jpg');
                background-size: inherit;
                border: 1px solid rgba(0, 0, 0, 0.8);
                display: flex;
                flex: auto;
                text-align: center;
                align-items: center;
                justify-content: center;

                /* Make numbers not hightlightable/selectable in all browsers
                   Makes the play mode feel lots more natural if user decides to drag cursor
                   Also includes an 'unselectable=on' attribute set via js
                */
                -moz-user-select: -moz-none;
                -khtml-user-select: none;
                -webkit-user-select: none;
                -ms-user-select: none;
                user-select: none;
            }

            .centered {
                display: flex;
                flex: auto;
                align-items: center;
                justify-content: center;
            }

            .break {
                flex-basis: 100%;
                height: 0;
            }

            .inputs {
                font-size: 4vmin;
            }
            .buttons {
                margin-top: 2vmin;
                margin-bottom: 1vmin;
                font-size: 5vmin;
                padding: 3vmin;
            }

            .test {
                
            }
            .dimensionInputContainer {
                /* Keep things centered and a little to the left since we justify flex-end */
                width: 50vmin;
                margin-right: 5vmin;
                display: inline-flex;
                align-items: center;
                
                /* Line up the sliders with each other */
                justify-content: flex-end;
            }
            .dimensionInputs {
                width: 8vmin;
            }

            .slider {
                -webkit-appearance: none;
                width: 25vmin;
                height: 10px;
                border-radius: 5px;  
                background: #d3d3d3;
                outline: none;
                opacity: 0.7;
                -webkit-transition: .2s;
                transition: opacity .2s;
            }

            .slider::-webkit-slider-thumb {
                -webkit-appearance: none;
                appearance: none;
                width: 4vmin;
                height: 4vmin;
                border-radius: 50%; 
                background: rgb(0, 81, 255);
                cursor: pointer;
            }

            .slider::-moz-range-thumb {
                width: 3vmin;
                height: 3vmin;
                border-radius: 50%;
                background: rgb(0, 81, 255);
                cursor: pointer;
            }


            /* Lets you see the up/down arrows for dimension inputs at least on chrome */
            input[type=number]::-webkit-inner-spin-button, 
            input[type=number]::-webkit-outer-spin-button {  
                -webkit-appearance: textfield;
                -moz-appearance: textfield;
                appearance: textfield;
                opacity: 1;

            }

            /* to make the page fill the entire screen */
            html {
                margin: 0px;
                height: 100%;
            }

            body {
                margin: 0px;
                min-height: 100%;
            }

            .outputAreaContainer {
                padding-top: 10vmin;
                height: 10vh;
                justify-content: left;
            }

            .outputArea {
                height: 100%;
                width: 50%;
                font:3vmin Arial;
                overflow:auto;

                text-align: left;

                border: none;
                background-color: transparent;
                outline: none;
                resize: none;
                cursor: default;
            }
        </style>
        <!-- For updating css classes dynmically with JS
            Currently only using for updating background image size to match puzzle size during resizing events on the window
            Unable to let it flex because of lots of things
            Can't easily set an <img> and make it overflow since positions/sizes between tile and total puzzle grid conflict
        -->
        <style id="dynamicStyling"></style>
    </head>
    <body>
        <div class="centered gridContainer" id ="gridContainer">
            <div id="grid" class="grid"></div>
        </div>
        <div class="centered">
            <button id="shuffleButton" class="buttons" onclick="shuffleHtmlMatrix()">Shuffle</button>
            <button id="playButton" class="buttons" onclick="togglePlayMode()">Play puzzle</button>
            <button id="solveButton" class="buttons" onclick="solvePuzzleForFunzies(htmlMatrix)">Solve me!</button>
        </div>
        <div class="centered">
            <div class ="dimensionInputContainer">
                <label class="inputs" for="rowInput">Rows:</label>
                <input id="rowInput" type="number" class="inputs dimensionInputs" value="3"></input>
                <input type="range" min="2" max="50" value="3" class="slider" id="rowSlider">
            </div>
        </div>

        <div class="centered">
            <div class ="dimensionInputContainer">
                <label class="inputs" for="colInput">Columns:</label>
                <input id="colInput" type="number" class="inputs dimensionInputs" value="3"></input>
                <input type="range" min="2" max="50" value="3" class="slider" id="colSlider">
            </div>
        </div>


        <div class="centered">
            <label class="inputs" for="algorithms">Algorithm:</label>
            <select class="inputs" name="algorithms" id="algorithmsDropdown">
                <option value="Strategic">Strategically</option>
                <option value="IDA*">Iterative Deepening A*</option>
                <option value="A*">A* (with closed set)</option>
                <option value="BFS">Breadth-First Search</option>
              </select>
        </div>

        <div class="centered outputAreaContainer"">
            <textarea readonly='yes' class="outputArea" id="outputSummary"></textarea>
            <textarea readonly='yes' class="outputArea" id="outputMoves"></textarea>
        </div>

        <script src="strategicSolve.js" defer></script>
        <script src="driver.js" defer></script>
        <script src="Puzzle.js" defer></script>
        <script src="PriorityQueue.js" defer></script>
        <script src="searchAlgorithms.js" defer></script>
        <script src="uiUtils.js" defer></script>
    </body>
</html>

